<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#f1f1f1" />
    <link rel="icon" type="image/x-icon" href="Images/favicon.png" />


    <title>Souls of Humanity | Non Profitable Organization</title>

    <!-- Font Awesome  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" />

    <!-- Swiper -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />

    <!-- JQuery -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

    <!-- Waypoints -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>

    <!-- CounterUp 2 -->
    <script defer src="https://unpkg.com/counterup2@2.0.2/dist/index.js"></script>

    <!-- External JS -->
    <script defer src="js/script.js"></script>

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.1/font/bootstrap-icons.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

    <link rel='stylesheet' href='//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css'>


    <!-- External CSS -->
    <link rel="stylesheet" href="style.css" />


    <script src="https://cdn.lordicon.com/lordicon-1.2.0.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.js"
        integrity="sha512-9KkIqdfN7ipEW6B6k+Aq20PV31bjODg4AA52W+tYtAE0jE0kMx49bjJ3FgvS56wzmyfMUHbQ4Km2b7l9+Y/+Eg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.css"
        integrity="sha512-bs9fAcCAeaDfA4A+NiShWR886eClUcBtqhipoY5DM60Y1V3BbVQlabthUBal5bq8Z8nnxxiyb1wfGX2n76N1Mw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />


    <style>
        .modal {
            display: none;
            /* Hidden by default */
            position: fixed;
            /* Stay in place */
            z-index: 30;
            /* Sit on top */
            left: 0;
            top: 0;
            width: 100%;
            /* Full width */
            height: 100%;
            /* Full height */
            overflow: auto;
            /* Enable scroll if needed */
            background-color: rgb(0, 0, 0);
            /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4);
            /* Black w/ opacity */
        }

        /* Modal Content/Box */
        .modal-content {
            display: flex;
            flex-direction: column;
            background-color: #fefefe;
            margin: 15% auto;
            /* 15% from the top and centered */
            padding: 0;
            border: 1px solid #888;
            max-width: max-content;
            width: 80%;
            /* Adjust width for larger screens */
            position: relative;
            /* Could be more or less, depending on screen size */
        }

        .modal-content:before {
            content: "";
            display: block;
            /* padding-top: 133.33%; */
            /* Aspect ratio 3:4, adjust as needed */
        }

        /* The Close Button */
        .close {
            color: black;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        #saveBtn {
            background-color: var(--primaryColor);
            margin: 5px;
            padding: 2px;
        }

        @media (max-width: 768px) {
            .modal-content {
                margin: 15% 5%;
                width: 90%;
                /* Adjust width for smaller screens */
            }

            .modal-content img {
                width: 100%;
                /* Make the image fill the width of the modal */
                height: auto;
                /* Maintain the aspect ratio */
            }
        }
    </style>

    <style>
        @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap");

        #menu {
            font-family: "Poppins", sans-serif;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #101825;
        }

        .box {
            position: relative;
            display: flex;
            width: 550px;
            height: 350px;
            background: rgba(255, 255, 255, 0.25);

            /* background-size: 75% 50%; */
            backdrop-filter: blur(5px);
            border: 4px solid rgba(255, 255, 255, 0.18);
            border-radius: 40px;
            z-index: 1;
            margin: 10%;
            margin-top: 0;
        }

        .box::before {
            position: absolute;
            content: "";
            background-image: url('icon.png');
            background-repeat: no-repeat;
            background-size: contain;
            background-position: center;
            top: 0px;
            right: 0px;
            bottom: 0px;
            left: 0px;
            opacity: 0.1;
        }

        @media screen and (max-width: 768px) {
            #menu {
                display: flex;
                flex-direction: column;
            }

            .box {
                width: auto;
            }
        }

        .content {
            width: 100%;
            margin: 20px 50px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        #croppedImage {
            height: 10%;
            width: auto;
        }
    </style>
</head>

<body>
    <!-- Header Start -->
    <header class="header">
        <a href="#" class="logo">
            <img src="Images/logo-white.png" alt="Logo" height="70px" width="auto">
        </a>
        <div class="icons">
            <!-- <div id="menu-btn" class="fas fa-bars menu-btn"></div> -->
            <a href="/" class="fas fa-home" aria-label="donate-navbar"></a>
            <a href="#donate" onclick="showDonationForm()" class="fas fa-hand-holding-heart"
                aria-label="donate-navbar"></a>
            <a href="#id-card" onclick="showIDForm()" id="id-btn" class="fas fa-user" aria-label="id-card"></a>
        </div>
    </header>
    <!-- Header End -->

    <!-- <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <div id="previewContainer"></div>
    </div> -->

    <div id="myModal" class="modal">

        <!-- Modal content -->
        <div class="modal-content">
            <span class="close">&times;</span>
            <!-- <div id="previewContainer" height="707" width="1000"></div> -->
            <div id="previewContainer"></div>
        </div>

    </div>

    <div id="cropModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div>
                <img id="photoPreview" src="" alt="Preview">
            </div>
            <button id="saveBtn">Save Cropped Image</button>
        </div>
    </div>


    <section id="menu">
        <div class="box">
            <div class="content" onclick="showDonationForm()">
                <h2>Donation Receipt</h2>
                <lord-icon src="https://cdn.lordicon.com/noregfgy.json" trigger="hover"
                    style="width:200px;height:200px">
                </lord-icon>
            </div>
        </div>

        <div class="box" onclick="showIDForm()">
            <div class="content">
                <h2>ID Generation</h2>
                <lord-icon src="https://cdn.lordicon.com/fmasbomy.json" trigger="hover"
                    style="width:190px;height:190px">
                </lord-icon>
            </div>
        </div>
    </section>

    <section id="donation">
        <h1> <span>Donation Receipt</span></h1>
        <form class="col-xl-7 col-md-8 mt-5 mb-5 offset-xl-2 needs-validation" novalidate="" id="gform" method="post">
            <div class="row">
                <div class="col-sm-6 mb-4">
                    <label for="name" class="form-label fs-base fc-3 fw-bold"><i
                            class="fa-solid bi bi-person me-2"></i>Name</label>
                    <input type="text" id="name" name="name" class="form-control form-control-lg" required=""
                        placeholder="Donor Name" maxlength="60">
                    <div class="invalid-feedback">Required!</div>
                </div>

                <div class="col-sm-6 mb-4">
                    <label for="date" class="form-label fs-base fc-3 fw-bold"><i
                            class="fa-solid bi bi bi-calendar me-2"></i>Date</label>
                    <input type="Date" id="date" name="date" class="form-control form-control-lg" required="">
                    <div class="invalid-feedback">Required!</div>
                </div>

                <div class="col-sm-6 mb-4">
                    <label for="email" class="form-label fs-base fc-3 fw-bold"><i
                            class="fa-solid bi bi-envelope-at me-2"></i>E-mail</label>
                    <input type="email" id="email" name="email" placeholder="example@abc.com"
                        class="form-control form-control-lg">
                </div>

                <div class="col-sm-6 mb-4">
                    <label for="amount" class="form-label fs-base fc-3 fw-bold"><i
                            class="fa-solid bi bi-currency-rupee me-2"></i>Donation Amount</label>
                    <input type="amount" id="amount" name="amount" class="form-control form-control-lg" required=""
                        placeholder="000.00">
                    <div class="invalid-feedback">Required!</div>
                </div>

                <div class="col-12 mb-4">
                    <label for="address" class="form-label fs-base fc-3 fw-bold"><i
                            class="fa-solid bi bi-pencil-square me-2"></i>Address</label>
                    <textarea id="address" name="address" class="form-control form-control-lg" rows="2"
                        placeholder="Locality, District" maxlength="25"></textarea>
                </div>

            </div>
            <br>
            <button type="button" onclick="generateImage()" class="btn btn-primary btn-lg me-3"><i
                    class="fa-solid bi bi-piggy-bank me-2"></i>Donate</button>
            <button type="reset" class="btn btn-danger btn-lg"><i
                    class="fa-solid bi bi-arrow-clockwise me-2"></i>Reset</button>
        </form>


    </section>

    <section id="id-card">
        <h1> <span>ID Card</span></h1>
        <form class="col-xl-7 col-md-8 mt-5 mb-5 offset-xl-2 needs-validation" novalidate="" id="id-form" method="post">
            <div class="row">
                <div class="col-sm-6 mb-4">
                    <label for="id" class="form-label fs-base fc-3 fw-bold"><i
                            class="fa-solid bi bi-hash me-2"></i>Volunteer ID</label>
                    <input type="text" id="id" name="id" class="form-control form-control-lg" 
                        placeholder="Volunteer ID" maxlength="10" required="">
                    <div class="invalid-feedback">Required!</div>
                </div>

                <div class="col-sm-6 mb-4">
                    <label for="vol-name" class="form-label fs-base fc-3 fw-bold"><i
                            class="fa-solid bi bi-person me-2"></i>Name</label>
                    <input type="text" id="vol-name" name="vol-name" class="form-control form-control-lg" required=""
                        placeholder="Volunteer Name" maxlength="30">
                    <div class="invalid-feedback">Required!</div>
                </div>

                <div class="col-sm-6 mb-4">
                    <label for="dob" class="form-label fs-base fc-3 fw-bold"><i
                            class="fa-solid bi bi bi-calendar me-2"></i>Date of Birth</label>
                    <input type="Date" id="dob" name="dob" class="form-control form-control-lg" required="">
                    <div class="invalid-feedback">Required!</div>
                </div>

                <div class="col-sm-6 mb-4">
                    <label for="ph" class="form-label fs-base fc-3 fw-bold"><i
                            class="fa-solid bi bi-telephone me-2"></i>Phone Number</label>
                    <input type="text" id="ph" name="ph" placeholder="897XXXXX10" class="form-control form-control-lg" required=""
                        >
                </div>

                <div class="col-sm-6 mb-4">
                    <label for="blood-grp" class="form-label fs-base fc-3 fw-bold"><i
                            class="fa-solid bi bi-droplet me-2" style="color: red;"></i>Blood Group</label>
                    <select id="blood-grp" name="blood-grp" class="form-select form-select-lg" required="">
                        <option value="" selected disabled>Select Blood Group</option>
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                    </select>

                    <div class="invalid-feedback">Required!</div>
                </div>

                <div class="col-sm-6 mb-4">
                    <label for="validity" class="form-label fs-base fc-3 fw-bold">
                        <i class="fa-solid bi bi-clock me-2"></i>Validity
                    </label>
                    <div class="input-group">
                        <input type="month" id="validity" name="validity" class="form-control form-control-lg"
                        required="" >
                    </div>
                    <div class="invalid-feedback">Required!</div>
                </div>

                <div class="col-sm-6 mb-4">
                    <label for="photo" class="form-label fs-base fc-3 fw-bold"><i
                            class="fa-solid bi bi-image me-2"></i>Upload Photo</label>
                    <input type="file" id="photo" name="photo" class="form-control form-control-lg" accept="image/*" required="">

                </div>


            </div>
            <br>
            <button type="button" onclick="generateID()" class="btn btn-primary btn-lg me-3"><i
                    class="fa-solid bi bi-person-lines-fill me-2"></i>Generate</button>
            <button type="reset" class="btn btn-danger btn-lg"><i
                    class="fa-solid bi bi-arrow-clockwise me-2"></i>Reset</button>
        </form>


    </section>

    <footer class="footer mt-auto py-3" style="color: #fff;">
        <div class="container text-center">
            <p>&copy; 2023 Souls of Humanity</p>
            <p style="font-size: x-small;">Developed by <a href="https://jaswanth-madiya.vercel.app/" target="_blank">Jaswanth Madiya</a></p>
        </div>
    </footer>



    <!-- SwiperJS -->
    <script>
        function showMenu() {
            $('#donation').hide()
            $('#id-card').hide()
            $('#menu').show()
        }

        function showIDForm() {
            $('#menu').hide()
            $('#donation').hide()
            $('#id-card').toggle()
        }

        function showDonationForm() {
            $('#menu').hide()
            $('#id-card').hide()
            $('#donation').toggle()
        }

    </script>

    <script>
        // Add this to your existing script section
        document.getElementById('photo').addEventListener('change', function (event) {
            const input = event.target;
            const reader = new FileReader();
            const photoInput = document.getElementById('photoInput');

            // Show the modal
            const modal = document.getElementById('cropModal');
            modal.style.display = 'block';

            // Clear previous content
            const previewContainer = document.getElementById('previewContainer');
            previewContainer.innerHTML = '';

            reader.onload = function (e) {
                const image = document.getElementById('photoPreview');
                image.src = e.target.result;


                // Initialize Cropper.js
                const cropper = new Cropper(image, {
                    aspectRatio: 1,
                    viewMode: 1,
                    ready: function () {
                        croppable = true;
                    },
                });

                // // Button to initiate cropping
                // const cropBtn = document.getElementById('cropBtn');
                // cropBtn.addEventListener('click', function () {
                //     cropper.crop();
                // });

                // Button to save cropped image
                const saveBtn = document.getElementById('saveBtn');
                saveBtn.addEventListener('click', function () {
                    // Get the cropped canvas
                    const croppedCanvas = cropper.getCroppedCanvas();

                    // Convert the canvas to a data URL
                    const croppedImageDataURL = croppedCanvas.toDataURL("image/png");

                    // Create a new image element to display the cropped image
                    const croppedImage = new Image();
                    croppedImage.src = croppedImageDataURL;
                    croppedImage.id = 'croppedImage';
                    croppedImage.style.display = 'none';

                    // Append the cropped image to the document or do whatever you want with it
                    document.body.appendChild(croppedImage);

                    // // Optionally, you can save the data URL to a hidden input field for form submission
                    // const hiddenInput = document.getElementById('hiddenCroppedImage');
                    // hiddenInput.value = croppedImageDataURL;

                    // Close the modal
                    modal.style.display = 'none';
                });

                // Close the modal when the close button is clicked
                const closeBtn = document.getElementsByClassName("close")[1];
                closeBtn.addEventListener('click', function () {
                    modal.style.display = 'none';
                    input.value = '';

                    // Destroy the Cropper instance to reset its state
                    cropper.destroy();
                });
            };

            reader.readAsDataURL(input.files[0]);
        });

    </script>

    <script src="generateImage.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
</body>

</html>